#!/bin/java bsh.Interpreter

source("TestHarness.bsh");
source("Assert.bsh");

assumeTrue("testing package private methods on Primitive and Operators classes needs privilege", haveAccessibility());

package bsh;

BD = BigDecimal.valueOf(1.0f);
BI = BigInteger.valueOf(1);
D = Double.valueOf(1.0d);
L = Long.valueOf(1L);
B = Boolean.TRUE;
C = Character.valueOf('a');

assertTrue(isEvalError("Unimplemented binary float operator", "Operators.bigDecimalBinaryOperation(BD, BD, 0);"));
assertTrue(isEvalError("Unimplemented binary double operator", "Operators.doubleBinaryOperation(D, D, 0);"));
assertTrue(isEvalError("Unimplemented binary integer operator", "Operators.bigIntegerBinaryOperation(BI, BI, 0);"));
assertTrue(isEvalError("Unimplemented binary long operator", "Operators.longBinaryOperation(L, L, 0);"));
assertTrue(isEvalError("unimplemented binary operator", "Operators.booleanBinaryOperation(B, B, 0);"));
assertTrue(isEvalError("Invalid types in binary operator", "Operators.binaryOperationImpl(C, C, 0);"));

assertTrue(isEvalError("invalid type in castWrapper: class java.lang.String", "Primitive.castWrapper(String.class, 1);"));
assertTrue(isEvalError("null value in castWrapper", "Primitive.castWrapper(Integer.TYPE, null);"));
assertTrue(isEvalError("bad wrapper cast of boolean", "Primitive.castWrapper(Integer.TYPE, B);"));
assertTrue(isEvalError("bad type in cast", "Primitive.castWrapper(Integer.TYPE, '');"));
assertTrue(isEvalError("error in wrapper cast", "Primitive.castWrapper(Void.TYPE, 1);"));

complete();

